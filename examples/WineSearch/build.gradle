apply plugin: 'java'
apply plugin: 'application'


repositories {
  mavenCentral()
  flatDir {
    dirs '../..'
  }
}

dependencies {
  compile 'com.sparkjava:spark-core:2.6.0'
  compile name: 'jastics'
}

compileJava {
  options.fork = true
  options.forkOptions.executable = './javac.sh'
}

sourceSets {
  main {
    java {
      srcDirs = ['.']
    }
  }
}


sourceCompatibility = '1.8'
mainClassName       = 'WineSearch'


jar {
  archiveName    = 'WineSearch.jar'
  destinationDir = projectDir
  from {
    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
  }
  manifest {
    attributes 'Main-Class': mainClassName
  }
}
